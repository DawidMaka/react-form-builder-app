{"version":3,"sources":["theme/mainTheme.js","theme/GlobalStyle.js","templates/MainTemplate.js","context/index.js","components/Heading/Heading.js","components/Button/Button.js","templates/FormsTemplate.js","components/Label/Label.js","components/Form/FormField/FormField.js","components/Select/Select.js","components/Input/Input.js","components/Form/Form.js","components/FormsList/FormsList.js","utils/index.js","views/Forms.js","views/Root.js","index.js"],"names":["theme","remove","add","GlobalStyle","createGlobalStyle","MainTemplate","children","PageContext","React","createContext","Heading","styled","h1","Button","button","mr","FormsTemplate","addItem","onClick","type","StyledLabel","label","Label","id","value","srOnly","className","undefined","htmlFor","defaultProps","FormField","input","attrs","autoComplete","name","css","Select","parentType","props","as","Input","placeholder","onChange","StyledForm","form","FormFields","div","ButtonsWrapper","Form","question","condition","conditionValue","useContext","removeItem","updateItem","useMemo","e","target","FormWrapper","FormList","forms","map","items","Fragment","key","length","hasItems","convertItems","reduce","result","originalItem","item","parent","subItems","createItem","newItem","uuidv4","Forms","localStorageKey","useState","JSON","parse","localStorage","getItem","setValue","useEffect","setItem","stringify","useStateWithLocalStorage","setItems","Provider","filterItems","filtered","filter","child","obj","updateProperties","FormsList","Root","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99fb107e.chunk.js","sourcesContent":["export const theme = {\n  remove: '#d43f3a',\n  add: '#4cae4c',\n};\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n\t*, *::before, *::after {\n\t\tbox-sizing: border-box;\n\t\t-webkit-font-smoothing: antialiased;\n  \t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\thtml {\n\t\tfont-size: 62.5%;\n\t}\n\n\tbody {\n\t\tfont-size: 1.4rem;\n\t\tfont-family: \"Montserrat\", monospace;\n\t}\t\n\n  main {\n    margin: 8px;\n  }\n\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n  }\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from 'styled-components';\nimport { theme } from 'theme/mainTheme';\nimport GlobalStyle from 'theme/GlobalStyle';\n\nconst MainTemplate = ({ children }) => (\n  <main>\n    <GlobalStyle />\n    <ThemeProvider theme={theme}>{children}</ThemeProvider>\n  </main>\n);\n\nMainTemplate.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default MainTemplate;\n","import React from 'react';\n\nconst PageContext = React.createContext();\n\nexport default PageContext;\n","import styled from 'styled-components';\n\nconst Heading = styled.h1`\n  font-size: 2em;\n  margin: 0.67em 0;\n`;   \n\nexport default Heading;\n","import styled from 'styled-components';\n\nconst Button = styled.button`\n  color: #fff;\n  background-color: ${({ remove, theme }) => (remove ? theme.remove : theme.add)};\n  border: 1px solid transparent;\n  border-radius: 4px;\n  display: inline-block;\n  padding: 6px 12px;\n  margin-bottom: 0;\n  margin-left: ${({ mr }) => mr};\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  user-select: none;\n  background-image: none;\n`;\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Heading from 'components/Heading/Heading';\nimport Button from 'components/Button/Button';\n\nconst FormsTemplate = ({ children, addItem }) => (\n  <>\n    <Heading>Form Builder</Heading>\n    {children}\n    <Button onClick={() => addItem('-1')} type=\"button\">\n      Add Input\n    </Button>\n  </>\n);\n\nexport default FormsTemplate;\n\nFormsTemplate.propTypes = {\n  children: PropTypes.element.isRequired,\n  addItem: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst StyledLabel = styled.label`\n  width: 19%;\n  display: inline-block;\n  font-weight: 700;\n  text-transform: capitalize;\n`;\n\nconst Label = ({ id, value, srOnly }) => (\n  <StyledLabel className={srOnly ? 'sr-only' : undefined} htmlFor={`${value}-${id}`}>\n    {value}\n  </StyledLabel>\n);\n\nexport default Label;\n\nLabel.propTypes = {\n  id: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  srOnly: PropTypes.bool,\n};\n\nLabel.defaultProps = {\n  srOnly: false,\n};\n","import styled, { css } from 'styled-components';\n\nconst FormField = styled.input.attrs(() => ({\n  autoComplete: 'off',\n}))`\n  width: 80%;\n  height: 34px;\n  padding: 6px 12px;\n  font-size: 13px;\n  line-height: 1.42857143;\n  color: #555;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid black;\n  border-radius: 4px;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n\n  ${({ name }) =>\n    name === 'condition' &&\n    css`\n      width: 45%;\n      margin-right: 2%;\n    `}\n\n  ${({ name }) =>\n    name === 'conditionValue' &&\n    css`\n      width: 33%;\n    `}\n`;\n\nexport default FormField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormField from 'components/Form/FormField/FormField';\n\nconst Select = ({ id, value, name, parentType, ...props }) => (\n  <FormField as=\"select\" id={`${name}-${id}`} value={value} name={name} {...props}>\n    {parentType === '' && (\n      <>\n        <option value=\"text\">Text</option>\n        <option value=\"yes/no\">Yes/no</option>\n        <option value=\"number\">Number</option>\n      </>\n    )}\n    {name === 'condition' && <option value=\"equals\">Equals</option>}\n    {parentType === 'number' && (\n      <>\n        <option value=\"greather than\">Greather than</option>\n        <option value=\"less than\">Less than</option>\n      </>\n    )}\n    {name === 'conditionValue' && (\n      <>\n        <option value=\"yes\">Yes</option>\n        <option value=\"no\">No</option>\n      </>\n    )}\n  </FormField>\n);\n\nexport default Select;\n\nSelect.propTypes = {\n  id: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  parentType: PropTypes.string,\n};\n\nSelect.defaultProps = {\n  parentType: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport FormField from 'components/Form/FormField/FormField';\nimport Select from 'components/Select/Select';\n\nconst Input = ({ id, value, name, type, parentType, placeholder, onChange }) => (\n  <>\n    {parentType !== 'yes/no' ? (\n      <FormField\n        id={`${name}-${id}`}\n        value={value}\n        name={name}\n        type={type}\n        placeholder={placeholder}\n        autoComplete\n        onChange={onChange}\n      />\n    ) : (\n      <Select id={id} value={value} name={name} parentType={parentType} onChange={onChange} />\n    )}\n  </>\n);\n\nexport default Input;\n\nInput.propTypes = {\n  id: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  parentType: PropTypes.string,\n  placeholder: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nInput.defaultProps = {\n  parentType: '',\n};\n","import React, { useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components/macro';\nimport Button from 'components/Button/Button';\nimport PageContext from 'context';\nimport Label from 'components/Label/Label';\nimport Input from 'components/Input/Input';\nimport Select from 'components/Select/Select';\n\nconst StyledForm = styled.form`\n  margin-bottom: 15px;\n  padding: 20px;\n  width: 530px;\n  border: 2px solid black;\n  color: black;\n  background-color: darksalmon;\n`;\n\nconst FormFields = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst ButtonsWrapper = styled.div`\n  text-align: right;\n`;\n\nconst Form = ({\n  id, question, type, parentType, condition, conditionValue,\n}) => {\n  const { addItem, removeItem, updateItem } = useContext(PageContext);\n\n  return useMemo(\n    () => (\n      <StyledForm>\n        {parentType !== '' && (\n          <FormFields>\n            <Label id={id} value=\"condition\" />\n            <Select\n              id={id}\n              value={condition}\n              name=\"condition\"\n              parentType={parentType}\n              onChange={(e) => {\n                const { name, value } = e.target;\n\n                updateItem(name, value, id);\n              }}\n            />\n            <Label id={id} value=\"condition value\" srOnly />\n            <Input\n              id={id}\n              value={conditionValue}\n              name=\"conditionValue\"\n              type={parentType === 'number' ? 'number' : 'text'}\n              parentType={parentType}\n              placeholder=\"Enter your value\"\n              onChange={(e) => {\n                const { name, value } = e.target;\n\n                updateItem(name, value, id);\n              }}\n            />\n          </FormFields>\n        )}\n        <FormFields>\n          <Label id={id} value=\"question\" />\n          <Input\n            id={id}\n            value={question}\n            name=\"question\"\n            type=\"text\"\n            placeholder=\"Enter your question\"\n            onChange={(e) => {\n              const { name, value } = e.target;\n\n              updateItem(name, value, id);\n            }}\n          />\n        </FormFields>\n        <FormFields>\n          <Label id={id} value=\"type\" />\n          <Select\n            id={id}\n            value={type}\n            name=\"type\"\n            onChange={(e) => {\n              const { name, value } = e.target;\n\n              updateItem(name, value, id);\n            }}\n          />\n        </FormFields>\n        <ButtonsWrapper>\n          <Button type=\"button\" onClick={() => addItem(id)}>\n            Add Sub-Input\n          </Button>\n          <Button type=\"button\" remove mr=\"5px\" onClick={() => removeItem(id)}>\n            Delete\n          </Button>\n        </ButtonsWrapper>\n      </StyledForm>\n    ),\n    [id, question, type, parentType, condition, conditionValue],\n  );\n};\n\nexport default Form;\n\nForm.propTypes = {\n  id: PropTypes.string.isRequired,\n  question: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  parentType: PropTypes.string.isRequired,\n  condition: PropTypes.string,\n  conditionValue: PropTypes.string,\n};\n\nForm.defaultProps = {\n  condition: '',\n  conditionValue: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Form from 'components/Form/Form';\n\nconst FormWrapper = styled.div`\n  margin-left: 20px;\n`;\n\nconst hasItems = items => items && items.length;\n\nconst FormList = ({ forms, parentType }) => (\n  <>\n    {forms.map(({ id, question, type, condition, conditionValue, items }) => (\n      <React.Fragment key={id}>\n        <Form\n          id={id}\n          question={question}\n          type={type}\n          condition={condition}\n          conditionValue={conditionValue}\n          parentType={parentType}\n        />\n        {hasItems(items) && (\n          <FormWrapper>\n            <FormList forms={items} parentType={type} />\n          </FormWrapper>\n        )}\n      </React.Fragment>\n    ))}\n  </>\n);\n\nexport default FormList;\n\nFormList.propTypes = {\n  forms: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      question: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      condition: PropTypes.string,\n      conditionValue: PropTypes.string,\n      items: PropTypes.array,\n    }),\n  ),\n  parentType: PropTypes.oneOf(['', 'text', 'number', 'yes/no']),\n};\n\nFormList.defaultProps = {\n  parentType: '',\n  forms: [],\n};\n","import { useState, useEffect } from 'react';\n\nexport const useStateWithLocalStorage = localStorageKey => {\n  const [value, setValue] = useState(JSON.parse(localStorage.getItem(localStorageKey) || '[]'));\n\n  useEffect(() => {\n    localStorage.setItem(localStorageKey, JSON.stringify(value));\n  }, [value]);\n\n  return [value, setValue];\n};\n","import React from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport PageContext from 'context';\nimport FormsTemplate from 'templates/FormsTemplate';\nimport FormsList from 'components/FormsList/FormsList';\nimport { useStateWithLocalStorage } from '../utils';\n\nconst convertItems = (items, id) =>\n  items.reduce((result, originalItem) => {\n    const item = { ...originalItem };\n\n    if (item.parent !== id) {\n      return result;\n    }\n\n    const subItems = convertItems(items, item.id);\n\n    if (subItems.length) {\n      item.items = subItems;\n    }\n\n    return [...result, item];\n  }, []);\n\nconst filterItems = (items, id) => {\n  const filtered = items.filter(item => item.id !== id);\n\n  const children = items.filter(item => item.parent === id).map(({ id }) => id);\n\n  return children.reduce((items, child) => filterItems(items, child), filtered);\n};\n\nconst createItem = parent => {\n  const newItem = {};\n  newItem.id = uuidv4();\n  newItem.question = '';\n  newItem.type = 'text';\n  newItem.parent = parent;\n\n  if (parent !== '-1') {\n    newItem.condition = '';\n    newItem.conditionValue = '';\n  }\n\n  return newItem;\n};\n\nconst updateProperties = (name, value, id, items) => {\n  const arr = items.map(item => {\n    const obj = item;\n\n    if (obj.id === id) {\n      obj[name] = value;\n    }\n\n    if (obj.parent === id && name === 'type') {\n      obj.condition = '';\n      obj.conditionValue = '';\n    }\n\n    return item;\n  });\n\n  return arr;\n};\n\nconst Forms = () => {\n  const [items, setItems] = useStateWithLocalStorage('data');\n\n  const addItem = parent => setItems(items => [...items, createItem(parent)]);\n  const removeItem = id => setItems(items => filterItems(items, id));\n  const updateItem = (name, value, id) =>\n    setItems(items => updateProperties(name, value, id, items));\n\n  return (\n    <PageContext.Provider\n      value={{\n        addItem,\n        removeItem,\n        updateItem,\n      }}\n    >\n      <FormsTemplate addItem={addItem}>\n        <FormsList forms={convertItems(items, '-1')} />\n      </FormsTemplate>\n    </PageContext.Provider>\n  );\n};\n\nexport default Forms;\n","import React from 'react';\nimport 'normalize.css';\nimport MainTemplate from 'templates/MainTemplate';\nimport Forms from 'views/Forms';\n\nconst Root = () => (\n  <MainTemplate>\n    <Forms />\n  </MainTemplate>\n);\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './views/Root';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}